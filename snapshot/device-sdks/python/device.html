

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>device package &#8212; Astarte Device SDK Python 0.10.0a6 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="astarte" href="modules.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="astarte"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Astarte Device SDK Python 0.10.0a6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">astarte</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">device package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="device-package">
<h1>device package<a class="headerlink" href="#device-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-device.crypto">
<span id="device-crypto-module"></span><h2>device.crypto module<a class="headerlink" href="#module-device.crypto" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="device.crypto.certificate_is_valid">
<span class="sig-prename descclassname"><span class="pre">device.crypto.</span></span><span class="sig-name descname"><span class="pre">certificate_is_valid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crypto_store_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.crypto.certificate_is_valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.crypto.device_has_certificate">
<span class="sig-prename descclassname"><span class="pre">device.crypto.</span></span><span class="sig-name descname"><span class="pre">device_has_certificate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crypto_store_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.crypto.device_has_certificate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.crypto.generate_csr">
<span class="sig-prename descclassname"><span class="pre">device.crypto.</span></span><span class="sig-name descname"><span class="pre">generate_csr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">realm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_store_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.crypto.generate_csr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.crypto.import_device_certificate">
<span class="sig-prename descclassname"><span class="pre">device.crypto.</span></span><span class="sig-name descname"><span class="pre">import_device_certificate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client_crt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_store_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.crypto.import_device_certificate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-device.device">
<span id="device-device-module"></span><h2>device.device module<a class="headerlink" href="#module-device.device" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="device.device.Device">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.device.</span></span><span class="sig-name descname"><span class="pre">Device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairing_base_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persistency_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_ssl_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic class to define an Astarte Device.</p>
<p>Device represents an Astarte Device. It is the base class used for managing the Device lifecycle and data.
Users should instantiate a Device with the right credentials and connect it to the configured instance to
start working with it.</p>
<p><strong>Threading and Concurrency</strong></p>
<p>This SDK uses paho-mqtt under the hood to provide Transport connectivity. As such, it is bound by paho-mqtt’s behaviors
in terms of threading. When a Device connects, a new thread is spawned and an event loop is run there to manage all the
connection events.</p>
<p>This SDK spares the user from this detail - on the other hand, when configuring callbacks, threading has to be taken into
account. When creating a Device, it is possible to specify an asyncio.loop to automatically manage this detail. When a loop
is specified, all callbacks will be called in the context of that loop, guaranteeing thread-safety and making sure that
the user does not have to take any further action beyond consuming the callback.</p>
<p>When a loop is not specified, callbacks are invoked just as standard Python functions. This inevitably means that the user
will have to take into account the fact that the callback will be invoked in the Thread of the MQTT connection. In particular,
blocking the execution of that thread might cause deadlocks and, in general, malfunctions in the SDK. For this reason, the
usage of asyncio is strongly recommended.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="device.device.Device.on_connected">
<span class="sig-name descname"><span class="pre">on_connected</span></span><a class="headerlink" href="#device.device.Device.on_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that will be invoked everytime the device successfully connects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Callable[[<a class="reference internal" href="#device.device.Device" title="device.device.Device">Device</a>], None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.device.Device.on_disconnected">
<span class="sig-name descname"><span class="pre">on_disconnected</span></span><a class="headerlink" href="#device.device.Device.on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that will be invoked everytime the device disconnects. The int parameter bears the disconnect reason.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Callable[[<a class="reference internal" href="#device.device.Device" title="device.device.Device">Device</a>, int], None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.device.Device.on_data_received">
<span class="sig-name descname"><span class="pre">on_data_received</span></span><a class="headerlink" href="#device.device.Device.on_data_received" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that will be invoked everytime data is received from Astarte. Parameters are the Device itself, the Interface
name, the Interface path, and the payload. The payload will reflect the type defined in the Interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Callable[[<a class="reference internal" href="#device.device.Device" title="device.device.Device">Device</a>, string, string, object], None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.add_interface">
<span class="sig-name descname"><span class="pre">add_interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_definition</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device.add_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an Interface to the Device</p>
<p>This will add an Interface definition to the Device. It has to be called before <a class="reference internal" href="#device.device.Device.connect" title="device.device.Device.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a>, as it will be
used for building the Device Introspection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interface_definition</strong> (<em>dict</em>) – An Astarte Interface definition in the form of a Python dictionary. Usually obtained by using json.loads on an Interface file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects the Device asynchronously.</p>
<p>When calling connect, a new connection thread is spawned and the Device will start a connection routine.
The function might return before the Device connects: you want to use the on_connected callback to ensure
you are notified upon connection.</p>
<p>In case the Device gets disconnected unexpectedly, it will try to reconnect indefinitely until disconnect()
is called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects the Device asynchronously.</p>
<p>When calling disconnect, the connection thread is requested to terminate the disconnection, and the thread is stopped
when the disconnection happens.
The function might return before the Device connects: you want to use the on_disconnected callback to ensure
you are notified upon connection. When doing so, check the return code parameter: if it is 0, it means the disconnection
happened following an explicit disconnection request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.get_device_id">
<span class="sig-name descname"><span class="pre">get_device_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#device.device.Device.get_device_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Device ID of the Device.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.is_connected">
<span class="sig-name descname"><span class="pre">is_connected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#device.device.Device.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the Device is currently connected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.remove_interface">
<span class="sig-name descname"><span class="pre">remove_interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device.remove_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an Interface from the Device</p>
<p>Removes an Interface definition from the Device. It has to be called before <a class="reference internal" href="#device.device.Device.connect" title="device.device.Device.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a>, as it will be
used for building the Device Introspection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interface_name</strong> (<em>str</em>) – The name of an Interface previously added with <a class="reference internal" href="#device.device.Device.add_interface" title="device.device.Device.add_interface"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_interface()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.send">
<span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an individual message to an interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interface_name</strong> (<em>str</em>) – The name of an the Interface to send data to.</p></li>
<li><p><strong>interface_path</strong> (<em>str</em>) – The path on the Interface to send data to.</p></li>
<li><p><strong>payload</strong> (<em>object</em>) – The value to be sent. The type should be compatible to the one specified in the interface path.</p></li>
<li><p><strong>timestamp</strong> (<em>datetime</em><em>, </em><em>optional</em>) – If sending a Datastream with explicit_timestamp, you can specify a datetime object which will be registered
as the timestamp for the value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.send_aggregate">
<span class="sig-name descname"><span class="pre">send_aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device.send_aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an aggregate message to an interface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interface_name</strong> (<em>str</em>) – The name of an the Interface to send data to.</p></li>
<li><p><strong>payload</strong> (<em>dict</em>) – A dictionary containing the path:value map for the aggregate.</p></li>
<li><p><strong>timestamp</strong> (<em>datetime</em><em>, </em><em>optional</em>) – If the Datastream has explicit_timestamp, you can specify a datetime object which will be registered
as the timestamp for the value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.device.Device.unset_property">
<span class="sig-name descname"><span class="pre">unset_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.device.Device.unset_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Unset the specified property on an interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interface_name</strong> (<em>str</em>) – The name of an the Interface where the property to unset is located.</p></li>
<li><p><strong>interface_path</strong> (<em>str</em>) – The path on the Interface to unset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-device.exceptions">
<span id="device-exceptions-module"></span><h2>device.exceptions module<a class="headerlink" href="#module-device.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="device.exceptions.APIError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.exceptions.</span></span><span class="sig-name descname"><span class="pre">APIError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.exceptions.APIError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#device.exceptions.AstarteError" title="device.exceptions.AstarteError"><code class="xref py py-class docutils literal notranslate"><span class="pre">device.exceptions.AstarteError</span></code></a></p>
<p>Exception raised when Astarte APIs throw unhandled errors.</p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">body</span> <span class="pre">--</span> <span class="pre">the</span> <span class="pre">body</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">API</span> <span class="pre">reply,</span> <span class="pre">which</span> <span class="pre">may</span> <span class="pre">carry</span> <span class="pre">further</span> <span class="pre">details</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="device.exceptions.AstarteError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.exceptions.</span></span><span class="sig-name descname"><span class="pre">AstarteError</span></span><a class="headerlink" href="#device.exceptions.AstarteError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base class for Astarte Errors.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="device.exceptions.AuthorizationError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.exceptions.</span></span><span class="sig-name descname"><span class="pre">AuthorizationError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.exceptions.AuthorizationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#device.exceptions.AstarteError" title="device.exceptions.AstarteError"><code class="xref py py-class docutils literal notranslate"><span class="pre">device.exceptions.AstarteError</span></code></a></p>
<p>Exception raised when Astarte APIs refuse authentication.</p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">body</span> <span class="pre">--</span> <span class="pre">the</span> <span class="pre">body</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">API</span> <span class="pre">reply,</span> <span class="pre">which</span> <span class="pre">may</span> <span class="pre">carry</span> <span class="pre">further</span> <span class="pre">details</span></span></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="device.exceptions.DeviceAlreadyRegisteredError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.exceptions.</span></span><span class="sig-name descname"><span class="pre">DeviceAlreadyRegisteredError</span></span><a class="headerlink" href="#device.exceptions.DeviceAlreadyRegisteredError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#device.exceptions.AstarteError" title="device.exceptions.AstarteError"><code class="xref py py-class docutils literal notranslate"><span class="pre">device.exceptions.AstarteError</span></code></a></p>
<p>Exception raised in case a Device being registered has already been registered.</p>
</dd></dl>

</section>
<section id="module-device.interface">
<span id="device-interface-module"></span><h2>device.interface module<a class="headerlink" href="#module-device.interface" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="device.interface.Interface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.interface.</span></span><span class="sig-name descname"><span class="pre">Interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_definition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.interface.Interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that represent an Interface definition</p>
<p>Interfaces are a core concept of Astarte which defines how data is exchanged between Astarte and its peers.
They are not to be intended as OOP interfaces, but rather as the following definition:</p>
<p>In Astarte each interface has an owner, can represent either a continuous data stream or a snapshot of a set
of properties, and can be either aggregated into an object or be an independent set of individual members.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="device.interface.Interface.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#device.interface.Interface.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface name</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.interface.Interface.version_major">
<span class="sig-name descname"><span class="pre">version_major</span></span><a class="headerlink" href="#device.interface.Interface.version_major" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface version major number</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.interface.Interface.version_minor">
<span class="sig-name descname"><span class="pre">version_minor</span></span><a class="headerlink" href="#device.interface.Interface.version_minor" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface version minor number</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.interface.Interface.type">
<span class="sig-name descname"><span class="pre">type</span></span><a class="headerlink" href="#device.interface.Interface.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface type</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.interface.Interface.ownership">
<span class="sig-name descname"><span class="pre">ownership</span></span><a class="headerlink" href="#device.interface.Interface.ownership" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface ownership</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.interface.Interface.aggregation">
<span class="sig-name descname"><span class="pre">aggregation</span></span><a class="headerlink" href="#device.interface.Interface.aggregation" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface aggregation policy</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.interface.Interface.mappings">
<span class="sig-name descname"><span class="pre">mappings</span></span><a class="headerlink" href="#device.interface.Interface.mappings" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface mapping list</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#device.mapping.Mapping" title="device.mapping.Mapping">Mapping</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.interface.Interface.get_mapping">
<span class="sig-name descname"><span class="pre">get_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">astarte.device.mapping.Mapping</span></span></span><a class="headerlink" href="#device.interface.Interface.get_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the Mapping with the given endpoint from the Interface
:param endpoint: The Mapping endpoint
:type endpoint: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The Mapping if found, None otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#device.mapping.Mapping" title="device.mapping.Mapping">Mapping</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.interface.Interface.is_aggregation_object">
<span class="sig-name descname"><span class="pre">is_aggregation_object</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#device.interface.Interface.is_aggregation_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the current Interface is a datastream with aggregation object
:returns: True if aggregation: object
:rtype: bool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.interface.Interface.is_server_owned">
<span class="sig-name descname"><span class="pre">is_server_owned</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#device.interface.Interface.is_server_owned" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the Interface ownership
:returns: True if ownership: server
:rtype: bool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.interface.Interface.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#device.interface.Interface.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface Data validation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Data endpoint in interface</p></li>
<li><p><strong>payload</strong> (<em>object</em>) – Data to validate</p></li>
<li><p><strong>timestamp</strong> (<em>datetime</em><em> or </em><em>None</em>) – Timestamp associated to the payload</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>success</strong> (<em>bool</em>) – Success of the validation operation</p></li>
<li><p><strong>msg</strong> (<em>str</em>) – Error message if success is False</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-device.introspection">
<span id="device-introspection-module"></span><h2>device.introspection module<a class="headerlink" href="#module-device.introspection" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="device.introspection.Introspection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.introspection.</span></span><span class="sig-name descname"><span class="pre">Introspection</span></span><a class="headerlink" href="#device.introspection.Introspection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that represent the introspection of a device.</p>
<p>The introspection is the list od interfaces that the device declares to the server it is compatible with.</p>
<p>In any given time a device can have a single interface with a given name, multiple interfaces with the same
name but different major/minor are not supported.</p>
<dl class="py method">
<dt class="sig sig-object py" id="device.introspection.Introspection.add_interface">
<span class="sig-name descname"><span class="pre">add_interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_definition</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.introspection.Introspection.add_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an Interface to the Introspection</p>
<p>This will add an Interface definition to the Device. It has to be called before <code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code>, as it will be
used for building the Device Introspection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interface_definition</strong> (<em>dict</em>) – An Astarte Interface definition in the form of a Python dictionary. Usually obtained by using json.loads on an Interface file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.introspection.Introspection.get_all_interfaces">
<span class="sig-name descname"><span class="pre">get_all_interfaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#device.introspection.Introspection.get_all_interfaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all the list of all Interfaces in Device’s Introspection</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The list of all Interfaces in the Introspection</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.introspection.Introspection.get_all_server_owned_interfaces">
<span class="sig-name descname"><span class="pre">get_all_server_owned_interfaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#device.introspection.Introspection.get_all_server_owned_interfaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all the list of all Interfaces in Device’s Introspection with server ownership</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The list of all Interfaces in the Introspection that have ownership “server”</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.introspection.Introspection.get_interface">
<span class="sig-name descname"><span class="pre">get_interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.introspection.Introspection.get_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an Interface definition from the Introspection</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interface_name</strong> (<em>str</em>) – The name of an Interface previously added with <a class="reference internal" href="#device.introspection.Introspection.add_interface" title="device.introspection.Introspection.add_interface"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_interface()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the Interface definition if found in the Introspection, None otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#device.interface.Interface" title="device.interface.Interface">Interface</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="device.introspection.Introspection.remove_interface">
<span class="sig-name descname"><span class="pre">remove_interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interface_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.introspection.Introspection.remove_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an Interface from the Introspection</p>
<p>Removes an Interface definition from the Device. It has to be called before <code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code>, as it will be
used for building the Device Introspection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interface_name</strong> (<em>str</em>) – The name of an Interface previously added with <a class="reference internal" href="#device.introspection.Introspection.add_interface" title="device.introspection.Introspection.add_interface"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_interface()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-device.mapping">
<span id="device-mapping-module"></span><h2>device.mapping module<a class="headerlink" href="#module-device.mapping" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="device.mapping.MapType">
<span class="sig-prename descclassname"><span class="pre">device.mapping.</span></span><span class="sig-name descname"><span class="pre">MapType</span></span><a class="headerlink" href="#device.mapping.MapType" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping type to python type mapping</p>
<p>alias of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code>]]</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="device.mapping.Mapping">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">device.mapping.</span></span><span class="sig-name descname"><span class="pre">Mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping_definition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.mapping.Mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that represent a data Mapping
Mappings are designed around REST controller semantics: each mapping describes an endpoint which is resolved to a
path, it is strongly typed, and can have additional options. Just like in REST controllers, Endpoints can be
parametrized to build REST-like collection and trees. Parameters are identified by %{parameterName}, with each
endpoint supporting any number of parameters (see <a class="reference external" href="https://docs.astarte-platform.org/snapshot/030-interface.html#limitations">Limitations</a>).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="device.mapping.Mapping.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><a class="headerlink" href="#device.mapping.Mapping.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Path of the Mapping</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.mapping.Mapping.type">
<span class="sig-name descname"><span class="pre">type</span></span><a class="headerlink" href="#device.mapping.Mapping.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of the Mapping (see notes)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.mapping.Mapping.explicit_timestamp">
<span class="sig-name descname"><span class="pre">explicit_timestamp</span></span><a class="headerlink" href="#device.mapping.Mapping.explicit_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag that defines if the Mapping requires a timestamp associated to the Payload before send</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="device.mapping.Mapping.reliability">
<span class="sig-name descname"><span class="pre">reliability</span></span><a class="headerlink" href="#device.mapping.Mapping.reliability" title="Permalink to this definition">¶</a></dt>
<dd><p>Reliability level of the Mapping (see notes)</p>
</dd></dl>

<p class="rubric">Notes</p>
<p><strong>Supported data types</strong></p>
<p>The following types are supported:</p>
<ul class="simple">
<li><p>double: A double-precision floating-point number as specified by binary64, by the IEEE 754 standard (NaNs and other non numerical values are not supported).</p></li>
<li><p>integer: A signed 32 bit integer.</p></li>
<li><p>boolean: Either true or false, adhering to JSON boolean type.</p></li>
<li><p>longinteger: A signed 64 bit integer (please note that longinteger is represented as a string by default in JSON-based APIs.).</p></li>
<li><p>string: An UTF-8 string, at most 65536 bytes long.</p></li>
<li><p>binaryblob: An arbitrary sequence of any byte that should be shorter than 64 KiB. (binaryblob is represented as a base64 string by default in JSON-based APIs.).</p></li>
<li><p>datetime: A UTC timestamp, internally represented as milliseconds since 1st Jan 1970 using a signed 64 bits integer. (datetime is represented as an ISO 8601 string by default in JSON based APIs.)</p></li>
<li><p>doublearray, integerarray, booleanarray, longintegerarray, stringarray, binaryblobarray, datetimearray: A list of values, represented as a JSON Array. Arrays can have up to 1024 items and each item must respect the limits of its scalar type (i.e. each string in a stringarray must be at most 65535 bytes long, each binary blob in a binaryblobarray must be shorter than 64 KiB.</p></li>
</ul>
<p><strong>Quality of Service</strong></p>
<p>Data messages QoS is chosen according to mapping settings, such as reliability. Properties are always published using QoS 2.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 36%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>INTERFACE TYPE</p></th>
<th class="head"><p>RELIABILITY</p></th>
<th class="head"><p>QOS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>properties</p></td>
<td><p>always unique</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>datastream</p></td>
<td><p>unreliable</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>datastream</p></td>
<td><p>guaranteed</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>datastream</p></td>
<td><p>unique</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="device.mapping.Mapping.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#device.mapping.Mapping.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping data validation
:param payload: Data to validate
:type payload: object
:param timestamp: Timestamp associated to the payload
:type timestamp: datetime or None</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>success</strong> (<em>bool</em>) – Success of the validation operation</p></li>
<li><p><strong>msg</strong> (<em>str</em>) – Error message if success is False</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="device.mapping.type_strings">
<span class="sig-prename descclassname"><span class="pre">device.mapping.</span></span><span class="sig-name descname"><span class="pre">type_strings</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'binaryblob':</span> <span class="pre">&lt;class</span> <span class="pre">'bytes'&gt;,</span> <span class="pre">'binaryblobarray':</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;,</span> <span class="pre">'boolean':</span> <span class="pre">&lt;class</span> <span class="pre">'bool'&gt;,</span> <span class="pre">'booleanarray':</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;,</span> <span class="pre">'datetime':</span> <span class="pre">&lt;class</span> <span class="pre">'datetime.datetime'&gt;,</span> <span class="pre">'datetimearray':</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;,</span> <span class="pre">'double':</span> <span class="pre">&lt;class</span> <span class="pre">'float'&gt;,</span> <span class="pre">'doublearray':</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;,</span> <span class="pre">'integer':</span> <span class="pre">&lt;class</span> <span class="pre">'int'&gt;,</span> <span class="pre">'integerarray':</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;,</span> <span class="pre">'longinteger':</span> <span class="pre">&lt;class</span> <span class="pre">'int'&gt;,</span> <span class="pre">'longintegerarray':</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;,</span> <span class="pre">'string':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'stringarray':</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;}</span></em><a class="headerlink" href="#device.mapping.type_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping quality of service</p>
</dd></dl>

</section>
<section id="module-device.pairing_handler">
<span id="device-pairing-handler-module"></span><h2>device.pairing_handler module<a class="headerlink" href="#module-device.pairing_handler" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="device.pairing_handler.generate_device_id">
<span class="sig-prename descclassname"><span class="pre">device.pairing_handler.</span></span><span class="sig-name descname"><span class="pre">generate_device_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">uuid.UUID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.pairing_handler.generate_device_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Deterministically generate a device Id based on UUID namespace identifier and unique data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> (<em>UUID</em>) – UUID namespace of the device_id</p></li>
<li><p><strong>unique_data</strong> (<em>str</em>) – device unique data used to generate the device_id</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the generated device Id, using the standard Astarte Device ID encoding (base64 urlencoding without padding).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.pairing_handler.generate_random_device_id">
<span class="sig-prename descclassname"><span class="pre">device.pairing_handler.</span></span><span class="sig-name descname"><span class="pre">generate_random_device_id</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#device.pairing_handler.generate_random_device_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Quick way to generate a device Id.
Pay attention that each time this value is different and the use in production is discouraged.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the generated device Id, using the standard Astarte Device ID encoding (base64 urlencoding without padding).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.pairing_handler.obtain_device_certificate">
<span class="sig-prename descclassname"><span class="pre">device.pairing_handler.</span></span><span class="sig-name descname"><span class="pre">obtain_device_certificate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairing_base_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_store_dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.pairing_handler.obtain_device_certificate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.pairing_handler.obtain_device_transport_information">
<span class="sig-prename descclassname"><span class="pre">device.pairing_handler.</span></span><span class="sig-name descname"><span class="pre">obtain_device_transport_information</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairing_base_url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#device.pairing_handler.obtain_device_transport_information" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.pairing_handler.register_device_with_jwt_token">
<span class="sig-prename descclassname"><span class="pre">device.pairing_handler.</span></span><span class="sig-name descname"><span class="pre">register_device_with_jwt_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jwt_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairing_base_url</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#device.pairing_handler.register_device_with_jwt_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a Device against an Astarte instance/realm with a JWT Token</p>
<p>Returns the Credentials secret for the Device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device_id</strong> (<em>str</em>) – The Device ID to register.</p></li>
<li><p><strong>realm</strong> (<em>str</em>) – The Realm in which to register the Device.</p></li>
<li><p><strong>jwt_token</strong> (<em>str</em>) – A JWT Token to Authenticate against Pairing API. The token must have access to Pairing API and to the agent API paths.</p></li>
<li><p><strong>pairing_base_url</strong> (<em>str</em>) – The Base URL of Pairing API of the Astarte Instance the Device will be registered in.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="device.pairing_handler.register_device_with_private_key">
<span class="sig-prename descclassname"><span class="pre">device.pairing_handler.</span></span><span class="sig-name descname"><span class="pre">register_device_with_private_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private_key_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairing_base_url</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#device.pairing_handler.register_device_with_private_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a Device against an Astarte instance/realm with a Private Key</p>
<p>Returns the Credentials secret for the Device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device_id</strong> (<em>str</em>) – The Device ID to register.</p></li>
<li><p><strong>realm</strong> (<em>str</em>) – The Realm in which to register the Device.</p></li>
<li><p><strong>private_key_file</strong> (<em>str</em>) – Path to the Private Key file for the Realm. It will be used to Authenticate against Pairing API.</p></li>
<li><p><strong>pairing_base_url</strong> (<em>str</em>) – The Base URL of Pairing API of the Astarte Instance the Device will be registered in.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-device">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-device" title="Permalink to this headline">¶</a></h2>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">device package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-device.crypto">device.crypto module</a></li>
<li><a class="reference internal" href="#module-device.device">device.device module</a></li>
<li><a class="reference internal" href="#module-device.exceptions">device.exceptions module</a></li>
<li><a class="reference internal" href="#module-device.interface">device.interface module</a></li>
<li><a class="reference internal" href="#module-device.introspection">device.introspection module</a></li>
<li><a class="reference internal" href="#module-device.mapping">device.mapping module</a></li>
<li><a class="reference internal" href="#module-device.pairing_handler">device.pairing_handler module</a></li>
<li><a class="reference internal" href="#module-device">Module contents</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="modules.html"
                          title="previous chapter">astarte</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/device.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="astarte"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Astarte Device SDK Python 0.10.0a6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >astarte</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">device package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021-2022, SECOMind.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>